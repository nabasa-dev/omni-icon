{"version":3,"file":"icon-block-CK58H3Qi.js","names":[],"sources":["../../../../../omni-icon.svg?react","../../../../../resources/integration/gutenberg/blocks/icon-block/components/IconPickerModal.jsx","../../../../../resources/integration/gutenberg/blocks/icon-block/components/Edit.jsx","../../../../../resources/integration/gutenberg/blocks/icon-block/components/Save.jsx","../../../../../resources/integration/gutenberg/blocks/icon-block/block.json","../../../../../resources/integration/gutenberg/blocks/icon-block/index.jsx"],"sourcesContent":["import * as React from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst SvgOmniIcon = (props) => /* @__PURE__ */ _jsx(\"svg\", {\n\txmlns: \"http://www.w3.org/2000/svg\",\n\tviewBox: \"0 0 400 400\",\n\t...props,\n\tchildren: /* @__PURE__ */ _jsx(\"path\", {\n\t\tfill: \"currentColor\",\n\t\tfillRule: \"evenodd\",\n\t\td: \"M 0 0 H 400 V 400 H 0 Z M 195 61 L 158 99 L 400 333 L 400 259 Z M 0 75 L 0 149 L 195 339 L 232 301 Z\"\n\t})\n});\nexport default SvgOmniIcon;\n","import { Modal, Spinner } from '@wordpress/components';\nimport { useState, useCallback, useMemo, useEffect } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport IconSearch from '~icons/tabler/search';\nimport IconX from '~icons/tabler/x';\nimport IconChevronLeft from '~icons/tabler/chevron-left';\nimport IconChevronRight from '~icons/tabler/chevron-right';\nimport IconRefresh from '~icons/tabler/refresh';\n\n// Import custom hooks\nimport {\n\tuseDebounce,\n\tuseIconCollections,\n\tuseIconSearch,\n\tuseDefaultIcons,\n\tuseIconFiltering,\n\tuseKeyboardNavigation,\n} from './hooks';\n\n// Import IconItem component\nimport IconItem from './IconItem';\n\nconst ICONS_PER_PAGE = 64;\n\nconst IconPickerModal = ({ isOpen, onClose, onSelectIcon, currentIcon }) => {\n\t// Search state\n\tconst [searchQuery, setSearchQuery] = useState('');\n\tconst debouncedSearchQuery = useDebounce(searchQuery, 300);\n\t\n\t// Collection filter state\n\tconst [selectedCollection, setSelectedCollection] = useState('all');\n\t\n\t// Temporary selection state (before confirmation)\n\tconst [tempSelectedIcon, setTempSelectedIcon] = useState(currentIcon || null);\n\t\n\t// Fetch collections\n\tconst { collections, isLoading: isLoadingCollections, isRefreshing, error: collectionsError, refreshCollections } = useIconCollections(isOpen);\n\t\n\t// Search icons or use default\n\tconst { icons: searchResults, isLoading: isSearching, error: searchError } = useIconSearch(debouncedSearchQuery, isOpen);\n\t\n\t// Generate default icons from collections\n\tconst defaultIcons = useDefaultIcons(collections, currentIcon);\n\t\n\t// Determine which icons to display (search results or default)\n\tconst allIcons = useMemo(() => {\n\t\treturn debouncedSearchQuery.trim() ? searchResults : defaultIcons;\n\t}, [debouncedSearchQuery, searchResults, defaultIcons]);\n\t\n\t// Filter and paginate icons\n\tconst {\n\t\tpaginatedIcons,\n\t\ttotalPages,\n\t\tcurrentPage,\n\t\tsetCurrentPage,\n\t\tcollectionCounts,\n\t} = useIconFiltering(allIcons, selectedCollection, ICONS_PER_PAGE);\n\t\n\t// Determine loading state - only show loading overlay on initial load, not on refresh\n\tconst isLoading = isLoadingCollections || isSearching;\n\tconst error = collectionsError || searchError;\n\t\n\t// Memoized callbacks\n\tconst handleSelectIcon = useCallback((iconName) => {\n\t\t// Toggle selection: if clicking the same icon, deselect it\n\t\tsetTempSelectedIcon(prevIcon => prevIcon === iconName ? null : iconName);\n\t}, []);\n\t\n\tconst handleConfirmSelection = useCallback(() => {\n\t\t// Allow confirming with null to clear the icon\n\t\tonSelectIcon(tempSelectedIcon || '');\n\t\tonClose();\n\t}, [tempSelectedIcon, onSelectIcon, onClose]);\n\t\n\tconst handleCancelSelection = useCallback(() => {\n\t\tonClose();\n\t}, [onClose]);\n\t\n\t// Keyboard navigation\n\tconst { selectedIndex, handleKeyDown: baseHandleKeyDown, gridRef } = useKeyboardNavigation(\n\t\tpaginatedIcons,\n\t\thandleSelectIcon,\n\t\thandleCancelSelection,\n\t\tisOpen\n\t);\n\t\n\t// Wrap keyboard handler to add Ctrl+Enter for confirm\n\tconst handleKeyDown = useCallback((event) => {\n\t\t// Ctrl/Cmd + Enter to confirm selection\n\t\tif ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {\n\t\t\tevent.preventDefault();\n\t\t\thandleConfirmSelection();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Pass to base handler\n\t\tbaseHandleKeyDown(event);\n\t}, [baseHandleKeyDown, handleConfirmSelection]);\n\t\n\tconst handleClearSearch = useCallback(() => {\n\t\tsetSearchQuery('');\n\t}, []);\n\t\n\tconst handleCollectionFilter = useCallback((collectionPrefix) => {\n\t\tsetSelectedCollection(collectionPrefix);\n\t}, []);\n\t\n\tconst handlePageChange = useCallback((newPage) => {\n\t\tif (newPage < 1 || newPage > totalPages) return;\n\t\tsetCurrentPage(newPage);\n\t}, [totalPages, setCurrentPage]);\n\t\n\tconst handlePrevPage = useCallback(() => {\n\t\tif (currentPage > 1) {\n\t\t\thandlePageChange(currentPage - 1);\n\t\t}\n\t}, [currentPage, handlePageChange]);\n\t\n\tconst handleNextPage = useCallback(() => {\n\t\tif (currentPage < totalPages) {\n\t\t\thandlePageChange(currentPage + 1);\n\t\t}\n\t}, [currentPage, totalPages, handlePageChange]);\n\t\n\t// Calculate total count for current filter\n\tconst totalCount = useMemo(() => {\n\t\tif (selectedCollection === 'all') {\n\t\t\treturn allIcons.length;\n\t\t}\n\t\treturn allIcons.filter(icon => icon.prefix === selectedCollection).length;\n\t}, [allIcons, selectedCollection]);\n\t\n\t// Reset search when modal closes/opens\n\tuseEffect(() => {\n\t\tif (isOpen) {\n\t\t\tsetTempSelectedIcon(currentIcon || null);\n\t\t} else {\n\t\t\tsetSearchQuery('');\n\t\t\tsetSelectedCollection('all');\n\t\t\tsetTempSelectedIcon(null);\n\t\t}\n\t}, [isOpen, currentIcon]);\n\t\n\t// Info message\n\tconst infoMessage = useMemo(() => {\n\t\t// Show searching message when loading\n\t\tif (isLoading) {\n\t\t\tif (searchQuery) {\n\t\t\t\tconst collectionName = selectedCollection === 'all' \n\t\t\t\t\t? '' \n\t\t\t\t\t: ` in ${collections[selectedCollection]?.name || selectedCollection}`;\n\t\t\t\treturn __(`Searching for \"${searchQuery}\"${collectionName}...`, 'omni-icon');\n\t\t\t}\n\t\t\treturn __('Loading icons...', 'omni-icon');\n\t\t}\n\t\t\n\t\tif (debouncedSearchQuery) {\n\t\t\tconst collectionName = selectedCollection === 'all' \n\t\t\t\t? '' \n\t\t\t\t: ` in ${collections[selectedCollection]?.name || selectedCollection}`;\n\t\t\t\n\t\t\treturn totalCount > 0\n\t\t\t\t? __(`Found ${totalCount} icons for \"${debouncedSearchQuery}\"${collectionName}`, 'omni-icon')\n\t\t\t\t: __(`No icons found for \"${debouncedSearchQuery}\"${collectionName}`, 'omni-icon');\n\t\t}\n\t\t\n\t\treturn selectedCollection === 'all'\n\t\t\t? __('Showing sample icons from all collections', 'omni-icon')\n\t\t\t: __(`Showing sample icons from ${collections[selectedCollection]?.name || selectedCollection}`, 'omni-icon');\n\t}, [isLoading, searchQuery, debouncedSearchQuery, selectedCollection, totalCount, collections]);\n\n\treturn (\n\t\t<>\n\t\t\t{isOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={__('Omni Icon â€” Icon Picker', 'omni-icon')}\n\t\t\t\t\tonRequestClose={onClose}\n\t\t\t\t\tclassName=\"oiib-icon-picker-modal\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\taria-label={__('Icon Picker', 'omni-icon')}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"oiib-icon-picker-content\">\n\t\t\t\t\t\t{/* Search Bar */}\n\t\t\t\t\t\t<div className=\"oiib-icon-picker-search\">\n\t\t\t\t\t\t\t<div className=\"oiib-search-wrapper\">\n\t\t\t\t\t\t\t\t<IconSearch className=\"oiib-search-icon\" aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"oiib-search-input\"\n\t\t\t\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setSearchQuery(e.target.value)}\n\t\t\t\t\t\t\t\t\tplaceholder={__('Search icons... (e.g., home, mdi:heart, lucide:star)', 'omni-icon')}\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\taria-label={__('Search icons', 'omni-icon')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{searchQuery && (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-search-clear\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleClearSearch}\n\t\t\t\t\t\t\t\t\t\taria-label={__('Clear search', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<IconX />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"oiib-search-refresh\"\n\t\t\t\t\t\t\t\tonClick={refreshCollections}\n\t\t\t\t\t\t\t\tdisabled={isRefreshing}\n\t\t\t\t\t\t\t\taria-label={__('Refresh icon collections', 'omni-icon')}\n\t\t\t\t\t\t\t\ttitle={__('Refresh icon collections', 'omni-icon')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<IconRefresh className={isRefreshing ? 'is-spinning' : ''} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Collection Filter */}\n\t\t\t\t\t\t{Object.keys(collections).length > 0 && (\n\t\t\t\t\t\t\t<div className=\"oiib-collection-filter\" role=\"tablist\" aria-label={__('Filter by collection', 'omni-icon')}>\n\t\t\t\t\t\t\t\t<div className=\"oiib-collection-filter-wrapper\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`oiib-collection-chip ${selectedCollection === 'all' ? 'is-active' : ''}`}\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleCollectionFilter('all')}\n\t\t\t\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\t\t\t\taria-selected={selectedCollection === 'all'}\n\t\t\t\t\t\t\t\t\t\taria-label={__('All collections', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{__('All', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-collection-count\" aria-label={`${allIcons.length} icons`}>\n\t\t\t\t\t\t\t\t\t\t\t{allIcons.length}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t{Object.entries(collections).map(([prefix, collection]) => {\n\t\t\t\t\t\t\t\t\t\tconst count = collectionCounts[prefix] || 0;\n\t\t\t\t\t\t\t\t\t\t// Hide collections with 0 results when searching\n\t\t\t\t\t\t\t\t\t\tif (debouncedSearchQuery && count === 0) {\n\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tkey={prefix}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`oiib-collection-chip ${selectedCollection === prefix ? 'is-active' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleCollectionFilter(prefix)}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={collection.name}\n\t\t\t\t\t\t\t\t\t\t\t\tdata-count={count}\n\t\t\t\t\t\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-selected={selectedCollection === prefix}\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={`${collection.name || prefix}, ${count} icons`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{collection.name || prefix}\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-collection-count\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{count}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Results Info with Pagination */}\n\t\t\t\t\t<div className=\"oiib-icon-picker-info\">\n\t\t\t\t\t\t<div className=\"oiib-info-text\">\n\t\t\t\t\t\t\t<p>{infoMessage}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/* Pagination Controls */}\n\t\t\t\t\t\t{!isLoading && debouncedSearchQuery && totalPages > 1 && (\n\t\t\t\t\t\t\t<div className=\"oiib-pagination\" role=\"navigation\" aria-label={__('Icon pagination', 'omni-icon')}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"oiib-pagination-btn\"\n\t\t\t\t\t\t\t\t\tonClick={handlePrevPage}\n\t\t\t\t\t\t\t\t\tdisabled={currentPage === 1}\n\t\t\t\t\t\t\t\t\taria-label={__('Previous page', 'omni-icon')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconChevronLeft />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<span className=\"oiib-pagination-info\" aria-live=\"polite\">\n\t\t\t\t\t\t\t\t\t{__(`Page ${currentPage} of ${totalPages}`, 'omni-icon')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"oiib-pagination-btn\"\n\t\t\t\t\t\t\t\t\tonClick={handleNextPage}\n\t\t\t\t\t\t\t\t\tdisabled={currentPage === totalPages}\n\t\t\t\t\t\t\t\t\taria-label={__('Next page', 'omni-icon')}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconChevronRight />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Content Wrapper - prevents blinking on state changes */}\n\t\t\t\t\t<div className=\"oiib-icon-picker-content-wrapper\">\n\t\t\t\t\t\t{/* Loading State */}\n\t\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t\t<div className=\"oiib-icon-picker-loading\" role=\"status\" aria-live=\"polite\">\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t<p>{__('Loading icons...', 'omni-icon')}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Error State */}\n\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t<div className=\"oiib-icon-picker-error\" role=\"alert\">\n\t\t\t\t\t\t\t\t<p>{error}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Icon Grid */}\n\t\t\t\t\t\t{!isLoading && !error && paginatedIcons.length > 0 && (\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tclassName=\"oiib-icon-picker-grid\" \n\t\t\t\t\t\t\t\tref={gridRef}\n\t\t\t\t\t\t\t\trole=\"grid\"\n\t\t\t\t\t\t\t\taria-label={__('Icon grid', 'omni-icon')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{paginatedIcons.map((icon, index) => (\n\t\t\t\t\t\t\t\t\t<IconItem\n\t\t\t\t\t\t\t\t\t\tkey={icon.name}\n\t\t\t\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\t\t\t\tisSelected={icon.name === tempSelectedIcon}\n\t\t\t\t\t\t\t\t\t\tisFocused={index === selectedIndex}\n\t\t\t\t\t\t\t\t\t\tonSelect={handleSelectIcon}\n\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Empty State */}\n\t\t\t\t\t\t{!isLoading && !error && paginatedIcons.length === 0 && debouncedSearchQuery && (\n\t\t\t\t\t\t\t<div className=\"oiib-icon-picker-empty\" role=\"status\">\n\t\t\t\t\t\t\t\t<IconSearch style={{ width: '48px', height: '48px' }} aria-hidden=\"true\" />\n\t\t\t\t\t\t\t\t<h3>{__('No icons found', 'omni-icon')}</h3>\n\t\t\t\t\t\t\t\t<p>{__('Try a different search term or icon prefix', 'omni-icon')}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Confirmation Footer */}\n\t\t\t\t\t{tempSelectedIcon !== currentIcon && (tempSelectedIcon || currentIcon) && (\n\t\t\t\t\t\t<div className=\"oiib-icon-picker-footer\">\n\t\t\t\t\t\t\t<div className=\"oiib-selected-icon-preview\">\n\t\t\t\t\t\t\t\t{tempSelectedIcon ? (\n\t\t\t\t\t\t\t\t\t<div className=\"oiib-selected-icon-display\">\n\t\t\t\t\t\t\t\t\t\t<omni-icon\n\t\t\t\t\t\t\t\t\t\t\tname={tempSelectedIcon}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"32\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"32\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-selected-icon-info\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-selected-icon-label\">{__('Selected:', 'omni-icon')}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-selected-icon-name\">{tempSelectedIcon}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"oiib-selected-icon-display\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-selected-icon-info\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-selected-icon-label\">{__('Icon will be removed', 'omni-icon')}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className=\"oiib-confirmation-buttons\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-btn oiib-btn-secondary\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleCancelSelection}\n\t\t\t\t\t\t\t\t\t\taria-label={__('Cancel', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{__('Cancel', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-btn oiib-btn-primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleConfirmSelection}\n\t\t\t\t\t\t\t\t\t\taria-label={__('Confirm selection', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{__('Confirm', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default IconPickerModal;\n","import { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, TabPanel } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\n\n// Import icons from unplugin-icons (Tabler Icons)\nimport IconSettings from '~icons/tabler/settings';\nimport IconPalette from '~icons/tabler/palette';\nimport IconBulb from '~icons/tabler/bulb';\nimport IconX from '~icons/tabler/x';\nimport IconSearch from '~icons/tabler/search';\n\n// Import plugin icon\nimport OmniIconSvg from '~/omni-icon.svg?react';\n\n// Import IconPickerModal\nimport IconPickerModal from './IconPickerModal';\n\nconst Edit = ({ attributes, setAttributes }) => {\n\tconst { name, width, height, color } = attributes;\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\n\tconst blockProps = useBlockProps({});\n\n\t// Normalize dimensions for display: if one is undefined, use the other\n\tconst displayWidth = width || height;\n\tconst displayHeight = height || width;\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"oiib-panel\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t...(color && color !== 'currentColor' ? { '--oiib-primary-color': color } : {})\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{/* Tab Navigation */}\n\t\t\t\t\t<TabPanel\n\t\t\t\t\t\tclassName=\"oiib-tab-panel\"\n\t\t\t\t\t\tactiveClass=\"is-active\"\n\t\t\t\t\t\ttabs={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\ttitle: (\n\t\t\t\t\t\t\t\t\t<span className=\"oiib-tab-title\">\n\t\t\t\t\t\t\t\t\t\t<IconSettings />\n\t\t\t\t\t\t\t\t\t\t{__('General', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tclassName: 'omni-tab-general',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'style',\n\t\t\t\t\t\t\t\ttitle: (\n\t\t\t\t\t\t\t\t\t<span className=\"oiib-tab-title\">\n\t\t\t\t\t\t\t\t\t\t<IconPalette />\n\t\t\t\t\t\t\t\t\t\t{__('Style', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tclassName: 'omni-tab-style',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t{(tab) => (\n\t\t\t\t\t\t\t<div className=\"oiib-tab-content\">\n\t\t\t\t\t\t\t\t{tab.name === 'general' && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{/* Icon Selection Card */}\n\t\t\t\t\t\t\t\t\t<div className=\"oiib-card\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h4>{__('Icon', 'omni-icon')}</h4>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card-body\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-form-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"oiib-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Icon Name', 'omni-icon')} <span className=\"oiib-required\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-input-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={name || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAttributes({ name: e.target.value })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"mdi:home\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-input-icon-search\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsModalOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={__('Browse icons', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconSearch style={{ width: '20px', height: '20px' }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"oiib-help-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconBulb />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Format: prefix:name (e.g., mdi:home, fa:github, lucide:star)', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Icon Preview */}\n\t\t\t\t\t\t\t\t\t\t\t\t{name && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-preview-card\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-preview-content\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<omni-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"48\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"48\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...(color && { color })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-preview-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{tab.name === 'style' && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{/* Size Card */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{__('Dimensions', 'omni-icon')}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`oiib-reset-btn ${(!width && !height) ? 'omni-reset-btn-disabled' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setAttributes({ width: undefined, height: undefined })}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!width && !height}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Reset', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Width */}\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-form-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-label-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"oiib-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Width', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-label-row-actions\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-dimension-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-dimension-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(width) || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst val = parseInt(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!isNaN(val) && val >= 16 && val <= 256) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes({ width: e.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (e.target.value === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes({ width: undefined });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"256\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"auto\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-dimension-unit\">px</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`oiib-clear-btn ${!width ? 'oiib-clear-btn-disabled' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setAttributes({ width: undefined })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={__('Reset to original', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!width}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconX />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-slider-control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-slider\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(width) || parseInt(height) || 24}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAttributes({ width: e.target.value })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"256\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Height */}\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-form-group\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-label-row\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"oiib-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Height', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-label-row-actions\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-dimension-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-dimension-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(height) || ''}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst val = parseInt(e.target.value);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!isNaN(val) && val >= 16 && val <= 256) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes({ height: e.target.value });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (e.target.value === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttributes({ height: undefined });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"256\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"auto\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"oiib-dimension-unit\">px</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`oiib-clear-btn ${!height ? 'oiib-clear-btn-disabled' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setAttributes({ height: undefined })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={__('Reset to original', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!height}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconX />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-slider-control\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-slider\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={parseInt(height) || parseInt(width) || 24}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAttributes({ height: e.target.value })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin=\"16\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax=\"256\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{/* Color Card */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{__('Color', 'omni-icon')}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`oiib-reset-btn ${(!color || color === 'currentColor') ? 'omni-reset-btn-disabled' : ''}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setAttributes({ color: 'currentColor' })}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!color || color === 'currentColor'}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{__('Reset', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-card-body\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-color-input-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"oiib-color-swatch-container\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"color\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-color-swatch-picker\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={color && color !== 'currentColor' ? color : '#000000'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAttributes({ color: e.target.value })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={__('Pick a color', 'omni-icon')}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-color-swatch\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: color && color !== 'currentColor' ? color : 'currentColor' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"oiib-color-value-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={color && color !== 'currentColor' ? color : 'currentColor'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setAttributes({ color: e.target.value })}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"#000000\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</div>\n\t\t\t</InspectorControls>\n\n\t\t\t<div {...blockProps}>\n\t\t\t\t{!name ? (\n\t\t\t\t\t<div className=\"oiib-placeholder\" onClick={() => setIsModalOpen(true)} style={{ cursor: 'pointer' }}>\n\t\t\t\t\t\t<div className=\"oiib-placeholder-icon\">\n\t\t\t\t\t\t\t<OmniIconSvg width={40} height={40} aria-hidden=\"true\" focusable=\"false\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"oiib-placeholder-content\">\n\t\t\t\t\t\t\t<h4>{__('Omni Icon', 'omni-icon')}</h4>\n\t\t\t\t\t\t\t<p>{__('Click to browse icons or use the sidebar to configure', 'omni-icon')}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"oiib-placeholder-footer\">\n\t\t\t\t\t\t\t<span className=\"oiib-placeholder-hint\">\n\t\t\t\t\t\t\t\t<IconBulb style={{ width: '14px', height: '14px' }} />\n\t\t\t\t\t\t\t\t{__('Format: prefix:name (e.g., mdi:home)', 'omni-icon')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<omni-icon\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t{...(displayWidth && { width: displayWidth })}\n\t\t\t\t\t\t{...(displayHeight && { height: displayHeight })}\n\t\t\t\t\t\t{...(color && { color })}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Icon Picker Modal */}\n\t\t\t<IconPickerModal\n\t\t\t\tisOpen={isModalOpen}\n\t\t\t\tonClose={() => setIsModalOpen(false)}\n\t\t\t\tonSelectIcon={(iconName) => setAttributes({ name: iconName })}\n\t\t\t\tcurrentIcon={name}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default Edit;\n","const Save = () => {\n\t// Rendered via PHP\n\treturn null;\n};\n\nexport default Save;\n","{\n    \"$schema\": \"https://schemas.wp.org/trunk/block.json\",\n    \"apiVersion\": 3,\n    \"name\": \"omni-icon/icon-block\",\n    \"version\": \"2.0.0\",\n    \"title\": \"Omni Icon\",\n    \"category\": \"design\",\n    \"description\": \"The Icon block\",\n    \"keywords\": [\n        \"icon\",\n        \"iconify\",\n        \"svg\",\n        \"omni\"\n    ],\n    \"textdomain\": \"omni-icon\",\n    \"editorScript\": \"file:./index.js\",\n    \"attributes\": {\n        \"name\": {\n            \"type\": \"string\",\n            \"default\": \"\"\n        },\n        \"width\": {\n            \"type\": \"string\"\n        },\n        \"height\": {\n            \"type\": \"string\"\n        },\n        \"className\": {\n            \"type\": \"string\",\n            \"default\": \"\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"default\": \"currentColor\"\n        }\n    },\n    \"supports\": {\n        \"html\": false,\n        \"align\": false,\n        \"className\": true\n    },\n    \"example\": {},\n    \"script\": [\n        \"omni-icon:web-component:omni-icon\",\n        \"omni-icon:gutenberg-icon-block:iframe\"\n    ],\n    \"editorStyle\": [\n    ]\n}","import './editor.css';\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport OmniIconSvg from '~/omni-icon.svg?react';\nimport Edit from './components/Edit';\nimport Save from './components/Save';\nimport metadata from './block.json';\n\n// Omni Icon component\nconst icon = () => (\n\t<OmniIconSvg width={24} height={24} aria-hidden=\"true\" focusable=\"false\" />\n);\n\n// Remove editorScript from metadata before registering\n// (it's needed in block.json for WordPress Block Directory validation,\n// but not needed here since we're registering via JS)\nconst { editorScript, ...blockMetadata } = metadata;\n\nregisterBlockType(blockMetadata.name, {\n\t...blockMetadata,\n\ticon,\n\tedit: Edit,\n\tsave: Save,\n});"],"mappings":"2MAYA,IAAA,EAVA,GAA+C,gBAAA,IAAI,MAAA,CACnD,MAAA,6BACA,QAAA,cACA,GAAA,EACA,SAA2B,gBAAA,IAAI,OAAA,CAC/B,KAAA,eACA,SAAA,UACA,EAAA,uGACA,CAAA,CACA,CAAA,yhECWA,EAAA,GAgXA,GA9WA,CAAA,SAAA,UAAA,eAAA,iBAAA,UAEuC,GAAA,QAAA,SAAA,GAAA,kBAIc,GAAA,QAAA,SAAA,MAAA,OAGJ,GAAA,QAAA,SAAA,GAAA,KAAA,8HAY/B,GAAA,QAAA,YAChB,EAAA,MAAA,CAAA,EAAA,sHAiBwB,GAAA,QAAA,YAAA,GAAA,CAExB,EAAA,GAAA,IAAA,EAAA,KAAA,EAAA,QAG8B,GAAA,QAAA,gBAAA,CAE9B,EAAA,GAAA,GAAA,CACA,GAAA,aAG6B,GAAA,QAAA,gBAAA,CAC7B,GAAA,gEAYqB,GAAA,QAAA,YAAA,GAAA,CAErB,IAAA,EAAA,SAAA,EAAA,UAAA,EAAA,MAAA,QAAA,CACC,EAAA,gBAAA,CACA,GAAA,CACA,OAID,EAAA,EAAA,WAGyB,GAAA,QAAA,gBAAA,CACzB,EAAA,GAAA,QAG8B,GAAA,QAAA,YAAA,GAAA,CAC9B,EAAA,EAAA,QAGwB,GAAA,QAAA,YAAA,GAAA,CACxB,EAAA,GAAA,EAAA,GACA,EAAA,EAAA,WAGsB,GAAA,QAAA,gBAAA,CACtB,EAAA,GACC,EAAA,EAAA,EAAA,WAIqB,GAAA,QAAA,gBAAA,CACtB,EAAA,GACC,EAAA,EAAA,EAAA,aAKiB,GAAA,QAAA,YAClB,IAAA,MACC,EAAA,OAED,EAAA,OAAA,GAAA,EAAA,SAAA,EAAA,CAAA,cAID,GAAA,QAAA,cAAA,CACC,EACC,EAAA,GAAA,KAAA,EAEA,EAAA,GAAA,CACA,EAAA,MAAA,CACA,EAAA,KAAA,iBAKkB,GAAA,QAAA,YAAA,CAEnB,GAAA,EAAA,CACC,GAAA,EAAA,2CAIC,OAAO,GAAA,KAAA,GAAA,kBAAA,EAAA,GAAA,EAAA,KAAA,YAAA,CAER,OAAO,GAAA,KAAA,GAAA,mBAAA,YAAA,CAGR,GAAA,EAAA,2CAKC,OAAA,EAAA,EACG,GAAA,KAAA,GAAA,SAAA,EAAA,cAAA,EAAA,GAAA,IAAA,YAAA,CACA,GAAA,KAAA,GAAA,uBAAA,EAAA,GAAA,IAAA,YAAA,CAGJ,OAAA,IAAA,MACG,GAAA,KAAA,GAAA,4CAAA,YAAA,CACA,GAAA,KAAA,GAAA,6BAAA,EAAA,IAAA,MAAA,IAAA,YAAA,iBAGJ,OACC,gBAAA,IAAA,gBAAA,SAAA,CAAA,SAAA,GAEE,gBAAA,IAAC,GAAA,WAAA,MAAA,OACO,GAAA,KAAA,GAAA,0BAAA,YAAA,2FAKK,GAAA,KAAA,GAAA,cAAA,YAAA,UAEZ,gBAAA,KAAA,MAAA,gDAEC,gBAAA,KAAA,MAAA,+CACC,gBAAA,KAAA,MAAA,2CACC,gBAAA,IAAA,EAAA,qDACA,gBAAA,IAAA,QAAA,6FAKc,GAAA,KAAA,GAAA,uDAAA,YAAA,2BAED,GAAA,KAAA,GAAA,eAAA,YAAA,MAGZ,gBAAA,IAAA,SAAA,sDAGa,GAAA,KAAA,GAAA,eAAA,YAAA,UAEZ,gBAAA,IAAA,EAAA,EAAA,CAAA,MAIH,gBAAA,IAAA,SAAA,mEAIa,GAAA,KAAA,GAAA,2BAAA,YAAA,OACL,GAAA,KAAA,GAAA,2BAAA,YAAA,UAEP,gBAAA,IAAA,EAAA,CAAA,UAAA,EAAA,cAAA,GAAA,CAAA,+BAMD,gBAAA,IAAA,MAAA,gEAAmE,GAAA,KAAA,GAAA,uBAAA,YAAA,UAClE,gBAAA,KAAA,MAAA,sDACC,gBAAA,KAAA,SAAA,qIAKa,GAAA,KAAA,GAAA,kBAAA,YAAA,WAEX,GAAA,KAAA,GAAA,MAAA,YAAA,CACD,gBAAA,IAAA,OAAA,yIAUA,OAHA,GAAA,IAAA,EACC,KAGA,gBAAA,KAAA,SAAA,oMAWC,gBAAA,IAAA,OAAA,4DAWP,gBAAA,KAAA,MAAA,6CACC,gBAAA,IAAA,MAAA,qCACC,gBAAA,IAAA,IAAA,CAAA,SAAA,GAAA,CAAA,eAKA,gBAAA,KAAA,MAAA,4DAA+D,GAAA,KAAA,GAAA,kBAAA,YAAA,WAC9D,gBAAA,IAAA,SAAA,uEAIa,GAAA,KAAA,GAAA,gBAAA,YAAA,UAEZ,gBAAA,IAAA,EAAA,EAAA,CAAA,GAED,gBAAA,IAAA,OAAA,gEACE,GAAA,KAAA,GAAA,QAAA,EAAA,MAAA,IAAA,YAAA,GAEF,gBAAA,IAAA,SAAA,uEAIa,GAAA,KAAA,GAAA,YAAA,YAAA,UAEZ,gBAAA,IAAA,EAAA,EAAA,CAAA,SAOJ,gBAAA,KAAA,MAAA,2DAGE,gBAAA,KAAA,MAAA,mFACC,gBAAA,IAAC,GAAA,WAAA,QAAA,EAAA,CAAA,CACD,gBAAA,IAAA,IAAA,CAAA,SAAI,GAAA,KAAA,GAAA,mBAAA,YAAA,CAAA,CAAA,CAAA,MAML,gBAAA,IAAA,MAAA,0DACC,gBAAA,IAAA,IAAA,CAAA,SAAA,EAAA,CAAA,uBAMD,gBAAA,IAAA,MAAA,kEAIa,GAAA,KAAA,GAAA,YAAA,YAAA,uBAGX,gBAAA,IAAA,EAAA,sGAcF,gBAAA,KAAA,MAAA,4DACC,gBAAA,IAAA,EAAA,2DACA,gBAAA,IAAA,KAAA,CAAA,SAAK,GAAA,KAAA,GAAA,iBAAA,YAAA,CAAA,CAAA,CACL,gBAAA,IAAA,IAAA,CAAA,SAAI,GAAA,KAAA,GAAA,6CAAA,YAAA,CAAA,CAAA,sBAON,gBAAA,IAAA,MAAA,8CACC,gBAAA,KAAA,MAAA,oDAEE,gBAAA,KAAA,MAAA,kDACC,gBAAA,IAAA,YAAA,iCAKA,gBAAA,KAAA,MAAA,+CACC,gBAAA,IAAA,OAAA,+CAA4C,GAAA,KAAA,GAAA,YAAA,YAAA,GAC5C,gBAAA,IAAA,OAAA,wDAIF,gBAAA,IAAA,MAAA,iDACC,gBAAA,IAAA,MAAA,8CACC,gBAAA,IAAA,OAAA,+CAA4C,GAAA,KAAA,GAAA,uBAAA,YAAA,OAI/C,gBAAA,KAAA,MAAA,iDACC,gBAAA,IAAA,SAAA,gEAGa,GAAA,KAAA,GAAA,SAAA,YAAA,UAEX,GAAA,KAAA,GAAA,SAAA,YAAA,GAEF,gBAAA,IAAA,SAAA,8DAGa,GAAA,KAAA,GAAA,oBAAA,YAAA,UAEX,GAAA,KAAA,GAAA,UAAA,YAAA,mBC5DX,GA3SA,CAAA,WAAA,EAAA,mBAAA,8CAEuC,GAAA,QAAA,SAAA,GAAA,GAEnB,GAAA,YAAA,cAAA,EAAA,CAAA,eAMnB,OACC,gBAAA,KAAA,gBAAA,SAAA,CAAA,SAAA,CACC,gBAAA,IAAC,GAAA,YAAA,kBAAA,CAAA,SACA,gBAAA,IAAA,MAAA,gGAOC,gBAAA,IAAC,GAAA,WAAA,SAAA,gFAOG,gBAAA,KAAA,OAAA,sCACC,gBAAA,IAAA,EAAA,EAAA,CAAA,CACC,GAAA,KAAA,GAAA,UAAA,YAAA,CAAA,qDAQF,gBAAA,KAAA,OAAA,sCACC,gBAAA,IAAA,EAAA,EAAA,CAAA,CACC,GAAA,KAAA,GAAA,QAAA,YAAA,CAAA,4CAQJ,gBAAA,KAAA,MAAA,4DAEE,gBAAA,IAAA,gBAAA,SAAA,CAAA,SAEA,gBAAA,KAAA,MAAA,iCACC,gBAAA,IAAA,MAAA,uCACC,gBAAA,IAAA,KAAA,CAAA,SAAK,GAAA,KAAA,GAAA,OAAA,YAAA,CAAA,CAAA,GAEN,gBAAA,KAAA,MAAA,sCACC,gBAAA,KAAA,MAAA,uCACC,gBAAA,KAAA,QAAA,kCACE,GAAA,KAAA,GAAA,YAAA,YAAA,KAA8B,gBAAA,IAAA,OAAA,6CAE/B,gBAAA,KAAA,MAAA,0CACC,gBAAA,IAAA,QAAA,8GAOA,gBAAA,IAAA,SAAA,4DAGQ,GAAA,KAAA,GAAA,eAAA,YAAA,UAEP,gBAAA,IAAA,EAAA,CAAA,MAAA,oCAGF,gBAAA,KAAA,IAAA,sCACC,gBAAA,IAAA,EAAA,EAAA,CAAA,CACC,GAAA,KAAA,GAAA,+DAAA,YAAA,CAAA,SAMF,gBAAA,KAAA,MAAA,yCACC,gBAAA,IAAA,MAAA,2CACC,gBAAA,IAAA,YAAA,mDAOD,gBAAA,IAAA,MAAA,0EAWL,gBAAA,KAAA,gBAAA,SAAA,CAAA,SAAA,CAEC,gBAAA,KAAA,MAAA,iCACC,gBAAA,KAAA,MAAA,wCACC,gBAAA,IAAA,KAAA,CAAA,SAAK,GAAA,KAAA,GAAA,aAAA,YAAA,CAAA,CAAA,CACL,gBAAA,IAAA,SAAA,wIAKE,GAAA,KAAA,GAAA,QAAA,YAAA,MAGH,gBAAA,KAAA,MAAA,sCAEC,gBAAA,KAAA,MAAA,uCACC,gBAAA,KAAA,MAAA,sCACC,gBAAA,IAAA,QAAA,iCACE,GAAA,KAAA,GAAA,QAAA,YAAA,GAEF,gBAAA,KAAA,MAAA,8CACC,gBAAA,KAAA,MAAA,8CACC,gBAAA,IAAA,QAAA,kHAME,CAAA,MAAA,EAAA,EAAA,GAAA,IAAA,GAAA,IACC,EAAA,CAAA,MAAA,EAAA,OAAA,MAAA,CAAA,sBAEA,EAAA,CAAA,MAAA,IAAA,GAAA,CAAA,0CAOH,gBAAA,IAAA,OAAA,oDAED,gBAAA,IAAA,SAAA,kGAGQ,GAAA,KAAA,GAAA,oBAAA,YAAA,sBAGP,gBAAA,IAAA,EAAA,EAAA,CAAA,SAIH,gBAAA,IAAA,MAAA,0CACC,gBAAA,IAAA,QAAA,yIAYF,gBAAA,KAAA,MAAA,uCACC,gBAAA,KAAA,MAAA,sCACC,gBAAA,IAAA,QAAA,iCACE,GAAA,KAAA,GAAA,SAAA,YAAA,GAEF,gBAAA,KAAA,MAAA,8CACC,gBAAA,KAAA,MAAA,8CACC,gBAAA,IAAA,QAAA,kHAME,CAAA,MAAA,EAAA,EAAA,GAAA,IAAA,GAAA,IACC,EAAA,CAAA,OAAA,EAAA,OAAA,MAAA,CAAA,sBAEA,EAAA,CAAA,OAAA,IAAA,GAAA,CAAA,0CAOH,gBAAA,IAAA,OAAA,oDAED,gBAAA,IAAA,SAAA,mGAGQ,GAAA,KAAA,GAAA,oBAAA,YAAA,sBAGP,gBAAA,IAAA,EAAA,EAAA,CAAA,SAIH,gBAAA,IAAA,MAAA,0CACC,gBAAA,IAAA,QAAA,gJAcJ,gBAAA,KAAA,MAAA,iCACC,gBAAA,KAAA,MAAA,wCACC,gBAAA,IAAA,KAAA,CAAA,SAAK,GAAA,KAAA,GAAA,QAAA,YAAA,CAAA,CAAA,CACL,gBAAA,IAAA,SAAA,kKAKE,GAAA,KAAA,GAAA,QAAA,YAAA,MAGH,gBAAA,IAAA,MAAA,qCACC,gBAAA,KAAA,MAAA,gDACC,gBAAA,KAAA,MAAA,mDACC,gBAAA,IAAA,QAAA,uIAKQ,GAAA,KAAA,GAAA,eAAA,YAAA,GAER,gBAAA,IAAA,MAAA,mGAKD,gBAAA,IAAA,QAAA,+KAkBV,gBAAA,IAAA,MAAA,iBAkBE,gBAAA,IAAA,YAAA,2DAhBA,gBAAA,KAAA,MAAA,mFACC,gBAAA,IAAA,MAAA,4CACC,gBAAA,IAAA,EAAA,+DAED,gBAAA,KAAA,MAAA,gDACC,gBAAA,IAAA,KAAA,CAAA,SAAK,GAAA,KAAA,GAAA,YAAA,YAAA,CAAA,CAAA,CACL,gBAAA,IAAA,IAAA,CAAA,SAAI,GAAA,KAAA,GAAA,wDAAA,YAAA,CAAA,CAAA,CAAA,GAEL,gBAAA,IAAA,MAAA,8CACC,gBAAA,KAAA,OAAA,6CACC,gBAAA,IAAA,EAAA,CAAA,MAAA,+BACC,GAAA,KAAA,GAAA,uCAAA,YAAA,CAAA,UAeN,gBAAA,IAAA,EAAA,4EC9SH,MAHQ,wlBEOR,MACC,gBAAA,IAAA,EAAA,6DAMD,CAAA,eAAA,GAAA,GAAA,EAEA,GAAA,OAAA,kBAAA,EAAA,KAAA"}